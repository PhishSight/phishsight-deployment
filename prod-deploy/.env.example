# ===========================================
# PhishSight Production Environment Config
# Copy to .env.prod and fill in ALL required values!
# ===========================================

# ===========================================
# Database (PostgreSQL) - REQUIRED
# ===========================================
POSTGRES_USER=phishsight
POSTGRES_PASSWORD=CHANGE_THIS_TO_A_SECURE_PASSWORD
POSTGRES_DB=phishsight

# ===========================================
# Redis - REQUIRED
# ===========================================
REDIS_PASSWORD=CHANGE_THIS_TO_A_SECURE_PASSWORD

# ===========================================
# Port Configuration
# ===========================================
API_PORT=3001
APP_PORT=3000

# ===========================================
# JWT Secrets - REQUIRED
# Generate with: openssl rand -hex 64
# ===========================================
JWT_SECRET=GENERATE_A_SECURE_64_CHAR_HEX_SECRET
JWT_REFRESH_SECRET=GENERATE_ANOTHER_SECURE_64_CHAR_HEX_SECRET
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ===========================================
# Super Admin - REQUIRED (Change these!)
# ===========================================
SUPER_ADMIN_EMAIL=admin@yourdomain.com
SUPER_ADMIN_PASSWORD=YourSecurePassword123!

# ===========================================
# External Services (Optional)
# ===========================================
# VirusTotal API key for threat intelligence
VIRUSTOTAL_API_KEY=

# OpenRouter AI API for AI-powered analysis
OPENROUTER_API_KEY=
OPENROUTER_API_URL=https://openrouter.ai/api/v1/chat/completions
OPENROUTER_MODEL=deepseek/deepseek-chat

# Cloudflare Turnstile (Bot Protection) - RECOMMENDED
# Get your keys from: https://dash.cloudflare.com/turnstile
# Backend secret key (for server-side verification)
TURNSTILE_SECRETKEY=
# Frontend site key (shared between app and marketing site)
# Note: NEXT_PUBLIC_ prefix makes it available to frontend
NEXT_PUBLIC_TURNSTILE_SITEKEY=

# ===========================================
# ZeptoMail Email Configuration - REQUIRED
# ===========================================
# Get your API key from: https://zeptomail.zoho.com/
ZEPTOMAIL_API_KEY=YOUR_ZEPTOMAIL_API_KEY
# ZEPTOMAIL_HOST=smtp.zeptomail.com
# ZEPTOMAIL_PORT=587

# Email sender information
SMTP_FROM_NAME=PhishSight Team
SMTP_FROM_EMAIL=noreply@mail.phishsight.com
SUPPORT_EMAIL=support@phishsight.com
SALES_EMAIL=sales@phishsight.com

# App URLs for email links (must match your domain)
APP_URL=https://app.yourdomain.com
APP_NAME=PhishSight

# ===========================================
# Features
# ===========================================
PHISHING_OCR_ENABLED=true

# ===========================================
# Frontend URL - REQUIRED (for CORS)
# Set to your actual domain
# ===========================================
FRONTEND_URL=https://app.yourdomain.com

# ===========================================
# Logging
# ===========================================
LOG_LEVEL=info

# ===========================================
# Rate Limiting
# ===========================================
# Window for rate limiting (default: 15 minutes in ms)
RATE_LIMIT_WINDOW_MS=900000
# Max requests per window for unauthenticated users
RATE_LIMIT_MAX_REQUESTS=100
# Max requests per window for authenticated users
RATE_LIMIT_AUTHENTICATED_MAX=1000
# Max analysis requests per hour
RATE_LIMIT_ANALYSIS_MAX=200
# Max auth attempts per 15 min
RATE_LIMIT_AUTH_MAX=50

# ===========================================
# Marketing Site Configuration (Optional)
# ===========================================
# Marketing site URL (for CORS - lead gen forms)
MARKETING_SITE_URL=https://phishsight.com
# Site port (if deploying marketing site)
SITE_PORT=3003

# ===========================================
# SEO & Analytics
# ===========================================
# Public URLs for SEO (canonical URLs, sitemaps, Open Graph)
# Must match your actual production domains
PUBLIC_SITE_URL=https://phishsight.com
PUBLIC_APP_URL=https://app.phishsight.com

# Google Search Console verification
# Get from: https://search.google.com/search-console
NEXT_PUBLIC_GOOGLE_SITE_VERIFICATION=

# Google Analytics Measurement IDs
# Get from: https://analytics.google.com/ → Admin → Data Streams
# Format: G-XXXXXXXXXX
# Site (marketing page)
NEXT_PUBLIC_GA_MEASUREMENT_ID_SITE=G-8Y7KFEFB8H
# App (dashboard)
NEXT_PUBLIC_GA_MEASUREMENT_ID_APP=G-KR8PGFFQPM

# ===========================================
# Google OAuth (Sign in with Google) - Optional
# ===========================================
# Get credentials from: https://console.cloud.google.com/apis/credentials
# Create OAuth 2.0 Client ID for Web application
# Add authorized JavaScript origins: https://app.phishsight.com
# Add authorized redirect URIs: https://app.phishsight.com
GOOGLE_CLIENT_ID=
NEXT_PUBLIC_GOOGLE_CLIENT_ID=


# ===============================================
# AWS S3 Configuration (for avatar uploads)
# ===============================================
# AWS Access Key ID (required for S3 uploads)
AWS_ACCESS_KEY_ID=

# AWS Secret Access Key (required for S3 uploads)
AWS_SECRET_ACCESS_KEY=

# AWS Region (e.g., us-east-1, eu-west-1)
AWS_REGION=us-west-2

# S3 Bucket Name
AWS_S3_BUCKET=phishsight-user-profile-pic1
AWS_S3_BUCKET_EML=phishsight-user-eml-uploads

# S3 Endpoint (optional - for S3-compatible services like DigitalOcean Spaces, MinIO)
# Leave empty for standard AWS S3
# AWS_S3_ENDPOINT=

# ===============================================
# Paddle Billing (Optional)
# ===============================================
# Server-side API key
PADDLE_API_KEY=
# Client token (passed to frontend via /billing/checkout-config endpoint)
NEXT_PUBLIC_PADDLE_CLIENT_TOKEN=
# Webhook secret for verifying webhook signatures
PADDLE_WEBHOOK_SECRET=
# Environment: sandbox or production
PADDLE_ENVIRONMENT=production
# Price IDs for each plan/billing cycle
PADDLE_PRICE_STARTER_MONTHLY=
PADDLE_PRICE_STARTER_ANNUAL=
PADDLE_PRICE_PROFESSIONAL_MONTHLY=
PADDLE_PRICE_PROFESSIONAL_ANNUAL=
# Paddle environment for frontend
NEXT_PUBLIC_PADDLE_ENVIRONMENT=production

# ===============================================
# Chrome Extension
# ===============================================
# Allowed Chrome extension IDs (comma-separated)
ALLOWED_EXTENSION_IDS=

# ===============================================
# Docker Build
# ===============================================
# Bust Docker layer cache (pass timestamp: CACHEBUST=$(date +%s))
CACHEBUST=1
# Run database seed on startup (set to false after initial deployment)
RUN_SEED=true